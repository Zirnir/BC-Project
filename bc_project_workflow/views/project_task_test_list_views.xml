<?xml version="1.0"?>
<odoo>
    <record id="view_test_tree" model="ir.ui.view">
        <field name="name">project.task.test.tree</field>
        <field name="model">project.task.test</field>
        <field name="arch" type="xml">
                <tree string="Test" decoration-success="validated == 'accepted'" decoration-danger="validated == 'refused'">
                    <field name="create_date" readonly="1"/>                            
                    <field name="name"/>                          
                    <field name="validated" readonly="1"/>
                    <field name="task_id" widget="many2one">
                        <tree>
                            <field name="name"/>
                        </tree>
                    </field>                            
                </tree>
        </field>
    </record>
    <record id="views_test_form" model="ir.ui.view">
        <field name="name">project.task.test.form</field>
        <field name="model">project.task.test</field>
        <field name="arch" type="xml">
            <form string="Form_types">
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="create_date" readonly="1"/>
                        <field name="task_id"/>
                        <field name="validated"/>
                        <field name="parent_id" readonly="1" invisible="parent_id == False"/>
                        <field name="childtest_count" invisible="childtest_count == 0" readonly="1" />
                    </group>
                    <notebook>
                        <page string="Test procedure">                              
                            <field name="description"/>                                
                        </page>
                        <page string="Refused Justify" invisible="validated != 'refused'">
                            <field name="tags" widget="many2many_tags" readonly="1"/>                                
                            <field name="refused_justify" readonly="1"/> 
                            <field name="files" filename="file_name" readonly="1"/>
                            <field name="file_name" invisible="1"/>

                        </page>
                        <page string="Child Test" invisible="childtest_count == 0">                              
                            <field name="child_ids">
                                <tree string="Child Test" decoration-success="validated == 'accepted'" decoration-danger="validated == 'refused'">
                                    <field name="create_date"/>
                                    <field name="validated_date" readonly="1"/>
                                    <field name="customer" readonly="1"/>                            
                                    <field name="name"/>                            
                                    <field name="description"/>                            
                                    <field name="validated"/>
                                    <button class="fa fa-gears"
                                    name="button_test_modal"
                                    type="object"/>
                                </tree>
                            </field>                                
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
</odoo>